# Data Model: VLA Robotics Module

## Entity: VoiceCommand
**Description**: Natural language input from user that initiates the VLA process
**Fields**:
- id: string (unique identifier)
- audio_data: binary (raw audio input)
- text_transcription: string (transcribed text from Whisper)
- timestamp: datetime (when command was received)
- confidence_score: float (Whisper's confidence in transcription, 0.0-1.0)
- user_id: string (identifier for the user issuing the command)

**Validation rules**:
- text_transcription must not be empty
- confidence_score must be between 0.0 and 1.0
- timestamp must be within the last 24 hours

## Entity: CognitivePlan
**Description**: Sequence of actions generated by LLM from interpreted command
**Fields**:
- id: string (unique identifier)
- voice_command_id: string (reference to the original voice command)
- action_sequence: array of Action objects (ordered list of actions to execute)
- reasoning: string (LLM's explanation of the plan)
- generated_at: datetime (when the plan was created)
- status: enum (pending, approved, rejected, executed)

**Validation rules**:
- action_sequence must contain at least one action
- status must be one of the allowed values
- reasoning must not be empty

## Entity: ROS2Action
**Description**: Robot command formatted according to ROS 2 standards
**Fields**:
- id: string (unique identifier)
- action_type: string (type of ROS 2 action, e.g., "move_to_pose", "gripper_control")
- parameters: object (key-value pairs for action parameters)
- priority: integer (execution priority, 1-10)
- safety_validation: object (validation results against safety boundaries)
- created_at: datetime

**Validation rules**:
- action_type must be a valid ROS 2 action type
- parameters must conform to the action_type schema
- priority must be between 1 and 10
- safety_validation must pass all safety checks before execution

## Entity: SafetyBoundary
**Description**: Safety constraints that all actions must comply with
**Fields**:
- id: string (unique identifier)
- boundary_type: enum (range, speed, force, torque, position)
- min_value: float (minimum allowed value)
- max_value: float (maximum allowed value)
- unit: string (unit of measurement)
- description: string (explanation of the safety constraint)

**Validation rules**:
- min_value must be less than max_value
- boundary_type must be one of the allowed values
- unit must be appropriate for the boundary_type

## Entity: EducationalExample
**Description**: Runnable examples that demonstrate VLA concepts to students
**Fields**:
- id: string (unique identifier)
- title: string (descriptive title for the example)
- description: string (explanation of what the example demonstrates)
- code_snippet: string (the actual code for the example)
- dependencies: array of strings (required packages/libraries)
- expected_output: string (what the example should produce)
- difficulty_level: enum (beginner, intermediate, advanced)

**Validation rules**:
- title must not be empty
- code_snippet must be valid code
- difficulty_level must be one of the allowed values

## State Transitions

### VoiceCommand State Transitions:
- Created → Transcribed (when Whisper processes audio)
- Transcribed → Processed (when LLM generates cognitive plan)
- Processed → Completed (when robot executes action)

### CognitivePlan State Transitions:
- Pending → Approved (when safety validation passes)
- Pending → Rejected (when safety validation fails)
- Approved → Executed (when all actions are completed)
- Approved → Partially Executed (when some actions fail)

### ROS2Action State Transitions:
- Created → Validated (when safety checks pass)
- Validated → Queued (when ready for execution)
- Queued → Executing (when action starts)
- Executing → Completed (when action finishes successfully)
- Executing → Failed (when action fails)